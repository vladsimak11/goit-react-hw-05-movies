{"version":3,"file":"static/js/681.11f0b530.chunk.js","mappings":"iNACA,EAA4B,gCAA5B,EAAwE,gCAAxE,EAAoH,gCAApH,EAA6J,6BAA7J,EAAkM,4B,sBCAlM,EAA2B,2B,SCEdA,EAAW,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,GAAIC,EAAe,EAAfA,SAC7B,OACE,SAAC,KAAD,CAAMD,GAAIA,EAAV,UACE,iBAAME,UAAWC,EAAjB,SAAgCF,KAGrC,EC8ED,EAhFqB,WAAO,IAAD,IACzB,GAAsCG,EAAAA,EAAAA,UAAS,CAAC,GAAhD,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,GAAeC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,SAE5CC,GAAYC,EAAAA,EAAAA,MAAZD,SAERE,EAAAA,EAAAA,YAAU,WACRT,GAAa,GCbV,SAA2BU,GAChC,IAAMC,EAAe,IAAIC,gBAAgB,CACvCC,QAJY,mCAKZC,SAAU,UAGZ,OAAOC,MAAM,GAAD,OATG,uCASH,OAAgBL,EAAhB,YAAiCC,IAAiBK,MAAK,SAAAC,GACjE,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MACjB,GACF,CDEGC,CAAkBf,GACfS,MAAK,SAAAO,GAEJ,OAAOzB,EAAeyB,EACvB,IACAC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,EAAhB,IACXG,SAAQ,WACP5B,GAAa,EACd,GACJ,GAAE,CAACO,IAEJ,IACEsB,EAOEhC,EAPFgC,MACAC,EAMEjC,EANFiC,KACAC,EAKElC,EALFkC,SACAC,EAIEnC,EAJFmC,aACAC,EAGEpC,EAHFoC,cACAC,EAEErC,EAFFqC,aACAC,EACEtC,EADFsC,aAGF,OACE,iCACE,SAAC5C,EAAD,CAAUC,GAAIW,EAAaiC,QAA3B,oCACCrC,IAAa,SAAC,IAAD,KACd,iBAAKL,UAAWC,EAAhB,WACE,iBAAKD,UAAWC,EAAhB,WACE,0BACE,gBACE0C,MAAM,MACNC,IAAG,8CACDL,GAAiBC,GAEnBK,IAAKV,GAASC,OAIlB,iBAAKpC,UAAWC,EAAhB,WACE,cAAGD,UAAWC,EAAd,SAA0BkC,GAASC,KACnC,0BACE,iBAAMpC,UAAWC,EAAjB,uBADF,IACiDoC,MAEjD,0BACE,iBAAMrC,UAAWC,EAAjB,2BADF,IACqDqC,MAErD,0BACE,iBAAMtC,UAAWC,EAAjB,4BACCwC,YAIP,4BACE,oDACA,2BACE,yBACE,SAAC,KAAD,CAAM3C,GAAG,OAAT,qBAEF,yBACE,SAAC,KAAD,CAAMA,GAAG,UAAT,2BAGJ,0BACE,SAAC,KAAD,cAMX,C","sources":["webpack://goit-react-hw-05-movies/./src/pages/MovieDetails.module.css?6cd2","webpack://goit-react-hw-05-movies/./src/components/BackLink/BackLink.module.css?aa43","components/BackLink/BackLink.jsx","pages/MovieDetails.jsx","services/fetchMovieDetails.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieDetails_container__yKjnD\",\"movieInfo\":\"MovieDetails_movieInfo__RFaEp\",\"movieText\":\"MovieDetails_movieText__dutMj\",\"header\":\"MovieDetails_header__pEJNp\",\"title\":\"MovieDetails_title__-2Xvc\"};","// extracted by mini-css-extract-plugin\nexport default {\"backLink\":\"BackLink_backLink__JiXo7\"};","import { Link } from 'react-router-dom';\nimport css from './BackLink.module.css'\n\nexport const BackLink = ({ to, children }) => {\n  return (\n    <Link to={to}>\n      <span className={css.backLink}>{children}</span>\n    </Link>\n  );\n};","import { useParams, Link, Outlet, useLocation } from 'react-router-dom';\nimport css from './MovieDetails.module.css';\nimport { useState, useEffect, useRef } from 'react';\nimport { fetchMovieDetails } from '../services/fetchMovieDetails';\nimport { ThreeDots } from '../components/Loader/Loader';\nimport { BackLink } from 'components/BackLink/BackLink';\n\nconst MovieDetails = () => {\n  const [movieDetail, setMovieDetail] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const location = useLocation();\n  const backLinkHref = useRef(location.state?.from ?? \"/home\");\n\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    setIsLoading(true);\n    fetchMovieDetails(movieId)\n      .then(data => {\n        // console.log(data);\n        return setMovieDetail(data);\n      })\n      .catch(error => console.log(error))\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, [movieId]);\n\n  const {\n    title,\n    name,\n    overview,\n    release_date,\n    backdrop_path,\n    profile_path,\n    vote_average,\n  } = movieDetail;\n\n  return (\n    <>\n      <BackLink to={backLinkHref.current}>Back to trending movie</BackLink>\n      {isLoading && <ThreeDots />}\n      <div className={css.container}>\n        <div className={css.movieInfo}>\n          <div>\n            <img\n              width=\"400\"\n              src={`https://image.tmdb.org/t/p/original/${\n                backdrop_path || profile_path\n              }`}\n              alt={title || name}\n            />\n          </div>\n\n          <div className={css.movieText}>\n            <p className={css.title}>{title || name}</p>\n            <p>\n              <span className={css.header}>Overview:</span> {overview}\n            </p>\n            <p>\n              <span className={css.header}>Release date:</span> {release_date}\n            </p>\n            <p>\n              <span className={css.header}>Vote average: </span>\n              {vote_average}\n            </p>\n          </div>\n        </div>\n        <div>\n          <p>Additional information:</p>\n          <ul>\n            <li>\n              <Link to=\"cast\">Cast</Link>\n            </li>\n            <li>\n              <Link to=\"reviews\">Reviews</Link>\n            </li>\n          </ul>\n          <div>\n            <Outlet />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default MovieDetails;","const BASE_URL = 'https://api.themoviedb.org/3/movie/';\nconst API_KEY = 'c2392c054aee28abbedad5531d1dfbd2';\n\nexport function fetchMovieDetails(movieDetailId) {\n  const searchParams = new URLSearchParams({\n    api_key: API_KEY,\n    language: 'en-US',\n  });\n\n  return fetch((`${BASE_URL}${movieDetailId}?${searchParams}`)).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  })\n}"],"names":["BackLink","to","children","className","css","useState","movieDetail","setMovieDetail","isLoading","setIsLoading","location","useLocation","backLinkHref","useRef","state","from","movieId","useParams","useEffect","movieDetailId","searchParams","URLSearchParams","api_key","language","fetch","then","response","ok","Error","status","json","fetchMovieDetails","data","catch","error","console","log","finally","title","name","overview","release_date","backdrop_path","profile_path","vote_average","current","width","src","alt"],"sourceRoot":""}